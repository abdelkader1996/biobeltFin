{"version":3,"sources":["./node_modules/ng-multiselect-dropdown/fesm2015/ng-multiselect-dropdown.js","./src/app/interventionceinture/interventionceinture.page.html","./src/app/interventionceinture/interventionceinture-routing.module.ts","./src/app/interventionceinture/interventionceinture.module.ts","./src/app/interventionceinture/interventionceinture.page.scss","./src/app/interventionceinture/interventionceinture.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmC;AAC8H;AACjG;AACjB;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,wDAAU;AAC3B,IAAI,0DAAI;AACR;AACA;AACA,KAAK;AACL;;AAEA;AACA,aAAa,gEAAiB;AAC9B,iBAAiB,gEAAU;AAC3B;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,0DAAY;AAC9C,mCAAmC,0DAAY;AAC/C,4BAA4B,0DAAY;AACxC,8BAA8B,0DAAY;AAC1C,+BAA+B,0DAAY;AAC3C,iCAAiC,0DAAY;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,wDAAU;AACV,IAAI,2DAAK;AACT;AACA,wDAAU;AACV,IAAI,2DAAK;AACT;AACA,wDAAU;AACV,IAAI,2DAAK;AACT;AACA,wDAAU;AACV,IAAI,2DAAK;AACT;AACA,wDAAU;AACV,IAAI,4DAAM;AACV;AACA,wDAAU;AACV,IAAI,4DAAM;AACV;AACA,wDAAU;AACV,IAAI,4DAAM;AACV;AACA,wDAAU;AACV,IAAI,4DAAM;AACV;AACA,wDAAU;AACV,IAAI,4DAAM;AACV;AACA,wDAAU;AACV,IAAI,4DAAM;AACV;AACA,wDAAU;AACV,IAAI,kEAAY;AAChB;AACA,uBAAuB,wDAAU;AACjC,IAAI,+DAAS;AACb;AACA,iTAAiT,cAAc,gFAAgF,mBAAmB,8EAA8E,WAAW,6CAA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","file":"interventionceinture-interventionceinture-module-es2015.js","sourcesContent":["import { __decorate } from 'tslib';\nimport { Pipe, forwardRef, EventEmitter, Input, Output, HostListener, Component, ChangeDetectionStrategy, ElementRef, Directive, NgModule } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\n\nclass ListItem {\n    constructor(source) {\n        if (typeof source === 'string' || typeof source === 'number') {\n            this.id = this.text = source;\n            this.isDisabled = false;\n        }\n        if (typeof source === 'object') {\n            this.id = source.id;\n            this.text = source.text;\n            this.isDisabled = source.isDisabled;\n        }\n    }\n}\n\nlet ListFilterPipe = class ListFilterPipe {\n    transform(items, filter) {\n        if (!items || !filter) {\n            return items;\n        }\n        return items.filter((item) => this.applyFilter(item, filter));\n    }\n    applyFilter(item, filter) {\n        if (typeof item.text === 'string' && typeof filter.text === 'string') {\n            return !(filter.text && item.text && item.text.toLowerCase().indexOf(filter.text.toLowerCase()) === -1);\n        }\n        else {\n            return !(filter.text && item.text && item.text.toString().toLowerCase().indexOf(filter.text.toString().toLowerCase()) === -1);\n        }\n    }\n};\nListFilterPipe = __decorate([\n    Pipe({\n        name: 'multiSelectFilter',\n        pure: false\n    })\n], ListFilterPipe);\n\nconst DROPDOWN_CONTROL_VALUE_ACCESSOR = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => MultiSelectComponent),\n    multi: true\n};\nconst noop = () => { };\nconst ɵ0 = noop;\nlet MultiSelectComponent = class MultiSelectComponent {\n    constructor(listFilterPipe) {\n        this.listFilterPipe = listFilterPipe;\n        this._data = [];\n        this.selectedItems = [];\n        this.isDropdownOpen = true;\n        this._placeholder = \"Select\";\n        this._sourceDataType = null; // to keep note of the source data type. could be array of string/number/object\n        this._sourceDataFields = []; // store source data fields names\n        this.filter = new ListItem(this.data);\n        this.defaultSettings = {\n            singleSelection: false,\n            idField: \"id\",\n            textField: \"text\",\n            disabledField: \"isDisabled\",\n            enableCheckAll: true,\n            selectAllText: \"Select All\",\n            unSelectAllText: \"UnSelect All\",\n            allowSearchFilter: false,\n            limitSelection: -1,\n            clearSearchFilter: true,\n            maxHeight: 197,\n            itemsShowLimit: 999999999999,\n            searchPlaceholderText: \"Search\",\n            noDataAvailablePlaceholderText: \"No data available\",\n            closeDropDownOnSelection: false,\n            showSelectedItemsAtTop: false,\n            defaultOpen: false,\n            allowRemoteDataSearch: false\n        };\n        this.disabled = false;\n        this.onFilterChange = new EventEmitter();\n        this.onDropDownClose = new EventEmitter();\n        this.onSelect = new EventEmitter();\n        this.onDeSelect = new EventEmitter();\n        this.onSelectAll = new EventEmitter();\n        this.onDeSelectAll = new EventEmitter();\n        this.onTouchedCallback = noop;\n        this.onChangeCallback = noop;\n    }\n    set placeholder(value) {\n        if (value) {\n            this._placeholder = value;\n        }\n        else {\n            this._placeholder = \"Select\";\n        }\n    }\n    set settings(value) {\n        if (value) {\n            this._settings = Object.assign(this.defaultSettings, value);\n        }\n        else {\n            this._settings = Object.assign(this.defaultSettings);\n        }\n    }\n    set data(value) {\n        if (!value) {\n            this._data = [];\n        }\n        else {\n            const firstItem = value[0];\n            this._sourceDataType = typeof firstItem;\n            this._sourceDataFields = this.getFields(firstItem);\n            this._data = value.map((item) => typeof item === \"string\" || typeof item === \"number\"\n                ? new ListItem(item)\n                : new ListItem({\n                    id: item[this._settings.idField],\n                    text: item[this._settings.textField],\n                    isDisabled: item[this._settings.disabledField]\n                }));\n        }\n    }\n    onFilterTextChange($event) {\n        this.onFilterChange.emit($event);\n    }\n    onItemClick($event, item) {\n        if (this.disabled || item.isDisabled) {\n            return false;\n        }\n        const found = this.isSelected(item);\n        const allowAdd = this._settings.limitSelection === -1 || (this._settings.limitSelection > 0 && this.selectedItems.length < this._settings.limitSelection);\n        if (!found) {\n            if (allowAdd) {\n                this.addSelected(item);\n            }\n        }\n        else {\n            this.removeSelected(item);\n        }\n        if (this._settings.singleSelection && this._settings.closeDropDownOnSelection) {\n            this.closeDropdown();\n        }\n    }\n    writeValue(value) {\n        if (value !== undefined && value !== null && value.length > 0) {\n            if (this._settings.singleSelection) {\n                try {\n                    if (value.length >= 1) {\n                        const firstItem = value[0];\n                        this.selectedItems = [\n                            typeof firstItem === \"string\" || typeof firstItem === \"number\"\n                                ? new ListItem(firstItem)\n                                : new ListItem({\n                                    id: firstItem[this._settings.idField],\n                                    text: firstItem[this._settings.textField],\n                                    isDisabled: firstItem[this._settings.disabledField]\n                                })\n                        ];\n                    }\n                }\n                catch (e) {\n                    // console.error(e.body.msg);\n                }\n            }\n            else {\n                const _data = value.map((item) => typeof item === \"string\" || typeof item === \"number\"\n                    ? new ListItem(item)\n                    : new ListItem({\n                        id: item[this._settings.idField],\n                        text: item[this._settings.textField],\n                        isDisabled: item[this._settings.disabledField]\n                    }));\n                if (this._settings.limitSelection > 0) {\n                    this.selectedItems = _data.splice(0, this._settings.limitSelection);\n                }\n                else {\n                    this.selectedItems = _data;\n                }\n            }\n        }\n        else {\n            this.selectedItems = [];\n        }\n        this.onChangeCallback(value);\n    }\n    // From ControlValueAccessor interface\n    registerOnChange(fn) {\n        this.onChangeCallback = fn;\n    }\n    // From ControlValueAccessor interface\n    registerOnTouched(fn) {\n        this.onTouchedCallback = fn;\n    }\n    // Set touched on blur\n    onTouched() {\n        this.closeDropdown();\n        this.onTouchedCallback();\n    }\n    trackByFn(index, item) {\n        return item.id;\n    }\n    isSelected(clickedItem) {\n        let found = false;\n        this.selectedItems.forEach(item => {\n            if (clickedItem.id === item.id) {\n                found = true;\n            }\n        });\n        return found;\n    }\n    isLimitSelectionReached() {\n        return this._settings.limitSelection === this.selectedItems.length;\n    }\n    isAllItemsSelected() {\n        // get disabld item count\n        let filteredItems = this.listFilterPipe.transform(this._data, this.filter);\n        const itemDisabledCount = filteredItems.filter(item => item.isDisabled).length;\n        // take disabled items into consideration when checking\n        if ((!this.data || this.data.length === 0) && this._settings.allowRemoteDataSearch) {\n            return false;\n        }\n        return filteredItems.length === this.selectedItems.length + itemDisabledCount;\n    }\n    showButton() {\n        if (!this._settings.singleSelection) {\n            if (this._settings.limitSelection > 0) {\n                return false;\n            }\n            // this._settings.enableCheckAll = this._settings.limitSelection === -1 ? true : false;\n            return true; // !this._settings.singleSelection && this._settings.enableCheckAll && this._data.length > 0;\n        }\n        else {\n            // should be disabled in single selection mode\n            return false;\n        }\n    }\n    itemShowRemaining() {\n        return this.selectedItems.length - this._settings.itemsShowLimit;\n    }\n    addSelected(item) {\n        if (this._settings.singleSelection) {\n            this.selectedItems = [];\n            this.selectedItems.push(item);\n        }\n        else {\n            this.selectedItems.push(item);\n        }\n        this.onChangeCallback(this.emittedValue(this.selectedItems));\n        this.onSelect.emit(this.emittedValue(item));\n    }\n    removeSelected(itemSel) {\n        this.selectedItems.forEach(item => {\n            if (itemSel.id === item.id) {\n                this.selectedItems.splice(this.selectedItems.indexOf(item), 1);\n            }\n        });\n        this.onChangeCallback(this.emittedValue(this.selectedItems));\n        this.onDeSelect.emit(this.emittedValue(itemSel));\n    }\n    emittedValue(val) {\n        const selected = [];\n        if (Array.isArray(val)) {\n            val.map(item => {\n                selected.push(this.objectify(item));\n            });\n        }\n        else {\n            if (val) {\n                return this.objectify(val);\n            }\n        }\n        return selected;\n    }\n    objectify(val) {\n        if (this._sourceDataType === 'object') {\n            const obj = {};\n            obj[this._settings.idField] = val.id;\n            obj[this._settings.textField] = val.text;\n            if (this._sourceDataFields.includes(this._settings.disabledField)) {\n                obj[this._settings.disabledField] = val.isDisabled;\n            }\n            return obj;\n        }\n        if (this._sourceDataType === 'number') {\n            return Number(val.id);\n        }\n        else {\n            return val.text;\n        }\n    }\n    toggleDropdown(evt) {\n        evt.preventDefault();\n        if (this.disabled && this._settings.singleSelection) {\n            return;\n        }\n        this._settings.defaultOpen = !this._settings.defaultOpen;\n        if (!this._settings.defaultOpen) {\n            this.onDropDownClose.emit();\n        }\n    }\n    closeDropdown() {\n        this._settings.defaultOpen = false;\n        // clear search text\n        if (this._settings.clearSearchFilter) {\n            this.filter.text = \"\";\n        }\n        this.onDropDownClose.emit();\n    }\n    toggleSelectAll() {\n        if (this.disabled) {\n            return false;\n        }\n        if (!this.isAllItemsSelected()) {\n            // filter out disabled item first before slicing\n            this.selectedItems = this.listFilterPipe.transform(this._data, this.filter).filter(item => !item.isDisabled).slice();\n            this.onSelectAll.emit(this.emittedValue(this.selectedItems));\n        }\n        else {\n            this.selectedItems = [];\n            this.onDeSelectAll.emit(this.emittedValue(this.selectedItems));\n        }\n        this.onChangeCallback(this.emittedValue(this.selectedItems));\n    }\n    getFields(inputData) {\n        const fields = [];\n        if (typeof inputData !== \"object\") {\n            return fields;\n        }\n        // tslint:disable-next-line:forin\n        for (const prop in inputData) {\n            fields.push(prop);\n        }\n        return fields;\n    }\n};\nMultiSelectComponent.ctorParameters = () => [\n    { type: ListFilterPipe }\n];\n__decorate([\n    Input()\n], MultiSelectComponent.prototype, \"placeholder\", null);\n__decorate([\n    Input()\n], MultiSelectComponent.prototype, \"disabled\", void 0);\n__decorate([\n    Input()\n], MultiSelectComponent.prototype, \"settings\", null);\n__decorate([\n    Input()\n], MultiSelectComponent.prototype, \"data\", null);\n__decorate([\n    Output(\"onFilterChange\")\n], MultiSelectComponent.prototype, \"onFilterChange\", void 0);\n__decorate([\n    Output(\"onDropDownClose\")\n], MultiSelectComponent.prototype, \"onDropDownClose\", void 0);\n__decorate([\n    Output(\"onSelect\")\n], MultiSelectComponent.prototype, \"onSelect\", void 0);\n__decorate([\n    Output(\"onDeSelect\")\n], MultiSelectComponent.prototype, \"onDeSelect\", void 0);\n__decorate([\n    Output(\"onSelectAll\")\n], MultiSelectComponent.prototype, \"onSelectAll\", void 0);\n__decorate([\n    Output(\"onDeSelectAll\")\n], MultiSelectComponent.prototype, \"onDeSelectAll\", void 0);\n__decorate([\n    HostListener(\"blur\")\n], MultiSelectComponent.prototype, \"onTouched\", null);\nMultiSelectComponent = __decorate([\n    Component({\n        selector: \"ng-multiselect-dropdown\",\n        template: \"<div tabindex=\\\"0\\\" (blur)=\\\"onTouched()\\\" class=\\\"multiselect-dropdown\\\" (clickOutside)=\\\"closeDropdown()\\\">\\n  <div [class.disabled]=\\\"disabled\\\">\\n    <span tabindex=\\\"-1\\\" class=\\\"dropdown-btn\\\" (click)=\\\"toggleDropdown($event)\\\">\\n      <span *ngIf=\\\"selectedItems.length == 0\\\">{{_placeholder}}</span>\\n      <span class=\\\"selected-item\\\" *ngFor=\\\"let item of selectedItems;trackBy: trackByFn;let k = index\\\" [hidden]=\\\"k > _settings.itemsShowLimit-1\\\">\\n        <span>{{item.text}}</span>\\n        <a style=\\\"padding-left:2px;color:white\\\" (click)=\\\"onItemClick($event,item)\\\">x</a>\\n      </span>\\n      <span [ngClass]=\\\"{ 'dropdown-multiselect--active': _settings.defaultOpen }\\\" style=\\\"float:right !important;padding-right:4px\\\">\\n        <span style=\\\"padding-right: 15px;\\\" *ngIf=\\\"itemShowRemaining()>0\\\">+{{itemShowRemaining()}}</span>\\n        <span class=\\\"dropdown-multiselect__caret\\\"></span>\\n      </span>\\n    </span>\\n  </div>\\n  <div class=\\\"dropdown-list\\\" [hidden]=\\\"!_settings.defaultOpen\\\">\\n    <ul class=\\\"item1\\\">\\n      <li (click)=\\\"toggleSelectAll()\\\" *ngIf=\\\"(_data.length > 0 || _settings.allowRemoteDataSearch) && !_settings.singleSelection && _settings.enableCheckAll && _settings.limitSelection===-1\\\" class=\\\"multiselect-item-checkbox\\\" style=\\\"border-bottom: 1px solid #ccc;padding:10px\\\">\\n        <input type=\\\"checkbox\\\" aria-label=\\\"multiselect-select-all\\\" [checked]=\\\"isAllItemsSelected()\\\" [disabled]=\\\"disabled || isLimitSelectionReached()\\\" />\\n        <div>{{!isAllItemsSelected() ? _settings.selectAllText : _settings.unSelectAllText}}</div>\\n      </li>\\n      <li class=\\\"filter-textbox\\\" *ngIf=\\\"(_data.length>0 || _settings.allowRemoteDataSearch) && _settings.allowSearchFilter\\\">\\n        <input type=\\\"text\\\" aria-label=\\\"multiselect-search\\\" [readOnly]=\\\"disabled\\\" [placeholder]=\\\"_settings.searchPlaceholderText\\\" [(ngModel)]=\\\"filter.text\\\" (ngModelChange)=\\\"onFilterTextChange($event)\\\">\\n      </li>\\n    </ul>\\n    <ul class=\\\"item2\\\" [style.maxHeight]=\\\"_settings.maxHeight+'px'\\\">\\n      <li *ngFor=\\\"let item of _data | multiSelectFilter:filter; let i = index;\\\" (click)=\\\"onItemClick($event,item)\\\" class=\\\"multiselect-item-checkbox\\\">\\n        <input type=\\\"checkbox\\\" [attr.aria-label]=\\\"item.text\\\" [checked]=\\\"isSelected(item)\\\" [disabled]=\\\"disabled || (isLimitSelectionReached() && !isSelected(item)) || item.isDisabled\\\" />\\n        <div>{{item.text}}</div>\\n      </li>\\n      <li class='no-data' *ngIf=\\\"_data.length == 0 && !_settings.allowRemoteDataSearch\\\">\\n        <h5>{{_settings.noDataAvailablePlaceholderText}}</h5>\\n      </li>\\n    </ul>\\n  </div>\\n</div>\\n\",\n        providers: [DROPDOWN_CONTROL_VALUE_ACCESSOR],\n        changeDetection: ChangeDetectionStrategy.OnPush,\n        styles: [\".multiselect-dropdown{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown .dropdown-btn{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown .dropdown-btn .selected-item{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left;display:flex;max-width:100px}.multiselect-dropdown .dropdown-btn .selected-item span{overflow:hidden;text-overflow:ellipsis}.multiselect-dropdown .dropdown-btn .selected-item a{text-decoration:none}.multiselect-dropdown .dropdown-btn .selected-item:hover{box-shadow:1px 1px #959595}.multiselect-dropdown .dropdown-btn .dropdown-multiselect__caret{line-height:16px;display:block;position:absolute;box-sizing:border-box;width:40px;height:38px;right:1px;top:0;padding:4px 8px;margin:0;text-decoration:none;text-align:center;cursor:pointer;transition:transform .2s}.multiselect-dropdown .dropdown-btn .dropdown-multiselect__caret:before{position:relative;right:0;top:65%;color:#999;margin-top:4px;border-style:solid;border-width:8px 8px 0;border-color:#999 transparent;content:\\\"\\\"}.multiselect-dropdown .dropdown-btn .dropdown-multiselect--active .dropdown-multiselect__caret{transform:rotateZ(180deg)}.multiselect-dropdown .disabled>span{background-color:#eceeef}.dropdown-list{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list ul{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list li{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list .filter-textbox{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list .filter-textbox input{border:0;width:100%;padding:0 0 0 26px}.dropdown-list .filter-textbox input:focus{outline:0}.multiselect-item-checkbox:hover{background-color:#e4e3e3}.multiselect-item-checkbox input[type=checkbox]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox input[type=checkbox]:focus+div:before,.multiselect-item-checkbox input[type=checkbox]:hover+div:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox input[type=checkbox]:active+div:before{transition-duration:0s}.multiselect-item-checkbox input[type=checkbox]+div{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox input[type=checkbox]+div:before{box-sizing:content-box;content:\\\"\\\";color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:.4s}.multiselect-item-checkbox input[type=checkbox]+div:after{box-sizing:content-box;content:\\\"\\\";position:absolute;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox input[type=checkbox]:disabled+div:before{border-color:#ccc}.multiselect-item-checkbox input[type=checkbox]:disabled:focus+div:before .multiselect-item-checkbox input[type=checkbox]:disabled:hover+div:before{background-color:inherit}.multiselect-item-checkbox input[type=checkbox]:disabled:checked+div:before{background-color:#ccc}.multiselect-item-checkbox input[type=checkbox]:checked+div:after{content:\\\"\\\";transition:transform .2s ease-out;transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox input[type=checkbox]:checked+div:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}\"]\n    })\n], MultiSelectComponent);\n\nlet ClickOutsideDirective = class ClickOutsideDirective {\n    constructor(_elementRef) {\n        this._elementRef = _elementRef;\n        this.clickOutside = new EventEmitter();\n    }\n    onClick(event, targetElement) {\n        if (!targetElement) {\n            return;\n        }\n        const clickedInside = this._elementRef.nativeElement.contains(targetElement);\n        if (!clickedInside) {\n            this.clickOutside.emit(event);\n        }\n    }\n};\nClickOutsideDirective.ctorParameters = () => [\n    { type: ElementRef }\n];\n__decorate([\n    Output()\n], ClickOutsideDirective.prototype, \"clickOutside\", void 0);\n__decorate([\n    HostListener('document:click', ['$event', '$event.target'])\n], ClickOutsideDirective.prototype, \"onClick\", null);\nClickOutsideDirective = __decorate([\n    Directive({\n        selector: '[clickOutside]'\n    })\n], ClickOutsideDirective);\n\nvar NgMultiSelectDropDownModule_1;\nlet NgMultiSelectDropDownModule = NgMultiSelectDropDownModule_1 = class NgMultiSelectDropDownModule {\n    static forRoot() {\n        return {\n            ngModule: NgMultiSelectDropDownModule_1\n        };\n    }\n};\nNgMultiSelectDropDownModule = NgMultiSelectDropDownModule_1 = __decorate([\n    NgModule({\n        imports: [CommonModule, FormsModule],\n        declarations: [MultiSelectComponent, ClickOutsideDirective, ListFilterPipe],\n        providers: [ListFilterPipe],\n        exports: [MultiSelectComponent]\n    })\n], NgMultiSelectDropDownModule);\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MultiSelectComponent, NgMultiSelectDropDownModule, DROPDOWN_CONTROL_VALUE_ACCESSOR as ɵa, ListFilterPipe as ɵb, ClickOutsideDirective as ɵc };\n//# sourceMappingURL=ng-multiselect-dropdown.js.map\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">    \\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>    \\n  <ion-grid>  \\n    <ion-row style=\\\"display: flex; justify-content: center;\\\">\\n      <ion-col size=\\\"8\\\" text-center style=\\\"padding-top: 5%;\\\">\\n        <h4>Intervention sur une ceinture</h4>\\n      </ion-col>\\n    </ion-row>  \\n    <ion-row>        \\n        <ion-col size=\\\"12\\\">\\n          <fieldset>\\n            <legend>Objet de l'intervention</legend>                 \\n            <ng-multiselect-dropdown *ngIf=\\\"display\\\" name=\\\"obj\\\" placeholder=\\\"Select One\\\" [data]=\\\"motiveOptions\\\" (onSelect)=\\\"onSelectMotive($event)\\\" (onDeSelect)=\\\"onRemoveMotive($event)\\\" [(ngModel)]=\\\"selectedMotive\\\" [disabled]=\\\"disabled\\\" [settings]=\\\"dropdownSettings\\\"></ng-multiselect-dropdown>  \\n            <ul id=\\\"motiveList\\\"></ul>   \\n          </fieldset>\\n          <div *ngIf=\\\"motive.includes('Autre')\\\" id=\\\"other\\\"> <ion-item><ion-label>Autre :</ion-label><ion-input [(ngModel)]='otherObj' placeholder='objet intervention' type='text'></ion-input><ion-button color='tertiary' style='font-size:small' (click)='other();'><span style='text-transform:none!important;'>Valider</span></ion-button></ion-item></div>\\n        </ion-col>        \\n        <ion-col size=\\\"12\\\">\\n          <fieldset>\\n            <legend>Intervenants</legend>            \\n            <ng-multiselect-dropdown *ngIf=\\\"display\\\" name=\\\"intervenant\\\" placeholder=\\\"Select One\\\" [data]=\\\"intervenants\\\" (onSelect)=\\\"onSelectIntervenant($event)\\\" (onDeSelect)=\\\"onRemoveIntervenant($event)\\\" [(ngModel)]=\\\"selectedIntervenants\\\" [disabled]=\\\"disabled\\\" [settings]=\\\"dropdownSettings\\\"></ng-multiselect-dropdown>\\n            <ul id=\\\"intervenantsList\\\"></ul>\\n          </fieldset>\\n        </ion-col>\\n        <ion-col size=\\\"12\\\">\\n          <fieldset>\\n            <legend>Sélection ceinture</legend>\\n              <ng-multiselect-dropdown *ngIf=\\\"display\\\" name=\\\"ceinture\\\" placeholder=\\\"Select One\\\" [data]=\\\"nearUPCList\\\" (onSelect)=\\\"onSelectedCeinture($event)\\\" (onDeSelect)=\\\"onRemoveCeinture($event)\\\" [(ngModel)]=\\\"selectedItems\\\" [disabled]=\\\"disabled\\\" [settings]=\\\"dropdownSettings2\\\"></ng-multiselect-dropdown>\\n          </fieldset>\\n        </ion-col>\\n        <ion-col *ngIf=\\\"displayCommentaire\\\" size=\\\"12\\\">\\n          <fieldset>\\n            <legend>A Faire</legend>\\n            <div>\\n              <ul id=\\\"commentairesList\\\"></ul>\\n            </div>\\n            <!--<p style=\\\"margin-left: 4%; margin-bottom: 4%;\\\">{{commentaire}}</p>-->\\n          </fieldset>\\n        </ion-col>\\n        <ion-col size=\\\"12\\\" *ngIf=\\\"isCeintureSelected\\\" id=\\\"infosCeintureCol\\\">\\n\\n         <fieldset id=\\\"ceintureFieldSet\\\">\\n            <fieldset style=\\\"background-color: #2E7117; color:  white;  margin-left: 4%; margin-right: 4%; margin-top: 4%;\\\">\\n              <p style=\\\"float: left; margin-top: 4%; margin-left: 4%;\\\">{{selectedCeintureName}}</p>\\n              <p style=\\\"float: right; margin-top: 4%; margin-right: 4%;\\\">{{selectedUpcSsid}}</p>\\n            </fieldset> \\n            <div style=\\\"margin-top: 2%;\\\">\\n              <ul id=\\\"upcInfosLabelsList\\\" style=\\\"float: left;\\\">\\n                <li>Mode de diffusion</li>\\n                <li>Nombre de pièges</li>\\n                <li>Mode de connexion</li>\\n                <li>Niveau de connexion</li>\\n                <li>Version FW</li> \\n              </ul>\\n              <ul id=\\\"upcInfosList\\\" style=\\\"float: right; text-align: center;\\\">\\n                <li>{{modeOperation}}</li>\\n                <li>{{nbPieges}}</li>\\n                <li>{{modeConnexion}}</li>\\n                <li>{{niveauConnexion}}</li>\\n                <li>{{versionFw}}</li>\\n              </ul>\\n            </div>            \\n            \\n          </fieldset>\\n          \\n        </ion-col>\\n        <ion-col *ngIf=\\\"needToLoadData\\\" style=\\\"text-align: center; margin-top: 4%;\\\"><ion-spinner></ion-spinner></ion-col>\\n        <ion-col *ngIf=\\\"displayNoDataMessage\\\">\\n          <h6>Les données n'ont pas pu être récupérées. Rechargez la page pour réessayer.</h6>\\n          <ion-row style=\\\"display: flex; justify-content: center;\\\">\\n            <ion-button (click)=\\\"reload()\\\">Réessayer</ion-button>\\n          </ion-row>\\n        </ion-col>\\n\\n      \\n       \\n      \\n    </ion-row>\\n    \\n  </ion-grid>\\n  \\n  \\n \\n</ion-content>\\n<ion-footer style=\\\"display: inline-block\\\">\\n  <ion-button *ngIf=\\\"!global.displayLoading\\\" style=\\\"float: left\\\" fill=\\\"clear\\\" (click)=\\\"global.onReadStatiqueEnable()\\\">    \\n    <ion-icon name=\\\"refresh\\\"></ion-icon>\\n  </ion-button>\\n  <ion-button *ngIf=\\\"global.displayLoading\\\" style=\\\"float: left;\\\" fill=\\\"clear\\\" color=\\\"primary\\\">\\n    <ion-spinner></ion-spinner>\\n  </ion-button>\\n  <ion-button style=\\\"float: right\\\" fill=\\\"clear\\\" (click)=\\\"goNext()\\\">\\n    Continuer\\n    <ion-icon name=\\\"arrow-forward\\\"></ion-icon>\\n  </ion-button>\\n\\n</ion-footer>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { InterventionceinturePage } from './interventionceinture.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: InterventionceinturePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class InterventionceinturePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { InterventionceinturePageRoutingModule } from './interventionceinture-routing.module';\n\nimport { InterventionceinturePage } from './interventionceinture.page';\nimport { NgMultiSelectDropDownModule } from 'ng-multiselect-dropdown';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    InterventionceinturePageRoutingModule,\n    NgMultiSelectDropDownModule.forRoot()\n  ],\n  declarations: [InterventionceinturePage]\n})\nexport class InterventionceinturePageModule {}\n","module.exports = \"fieldset {\\n  padding-left: 2%;\\n  padding-right: 2%;\\n  border: 1px #2E7117 solid;\\n  border-radius: 1em;\\n}\\n\\nlegend {\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  font-size: larger;\\n  color: #2E7117;\\n  font-style: italic;\\n  padding-left: 1%;\\n  padding-right: 2%;\\n}\\n\\nul {\\n  list-style: none;\\n  padding-left: 4%;\\n}\\n\\n.item.sc-ion-label-md-h, .item .sc-ion-label-md-h {\\n  white-space: normal !important;\\n}\\n\\n.rowDisplay {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n          flex-direction: row;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaW50ZXJ2ZW50aW9uY2VpbnR1cmUvQzpcXFVzZXJzXFxkZXZlbFxcT25lRHJpdmVcXEJ1cmVhdVxcYi1EZXYvc3JjXFxhcHBcXGludGVydmVudGlvbmNlaW50dXJlXFxpbnRlcnZlbnRpb25jZWludHVyZS5wYWdlLnNjc3MiLCJzcmMvYXBwL2ludGVydmVudGlvbmNlaW50dXJlL2ludGVydmVudGlvbmNlaW50dXJlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0FDQ0o7O0FEQ0U7RUFDRSwwQkFBQTtFQUFBLHVCQUFBO0VBQUEsa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7QUNFSjs7QURDRTtFQUNFLGdCQUFBO0VBQ0EsZ0JBQUE7QUNFSjs7QURBRTtFQUNFLDhCQUFBO0FDR0o7O0FEQUE7RUFDRSxvQkFBQTtFQUFBLGFBQUE7RUFDQSw4QkFBQTtFQUFBLDZCQUFBO1VBQUEsbUJBQUE7QUNHRiIsImZpbGUiOiJzcmMvYXBwL2ludGVydmVudGlvbmNlaW50dXJlL2ludGVydmVudGlvbmNlaW50dXJlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImZpZWxkc2V0IHtcclxuICAgIHBhZGRpbmctbGVmdDogMiU7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAyJTsgXHJcbiAgICBib3JkZXI6IDFweCAjMkU3MTE3IHNvbGlkO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMWVtO1xyXG4gIH1cclxuICBsZWdlbmQgeyAgXHJcbiAgICB3aWR0aDpmaXQtY29udGVudDsgXHJcbiAgICBmb250LXNpemU6bGFyZ2VyO1xyXG4gICAgY29sb3I6ICMyRTcxMTc7XHJcbiAgICBmb250LXN0eWxlOiBpdGFsaWM7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDElO1xyXG4gICAgcGFkZGluZy1yaWdodDogMiU7XHJcbiAgfVxyXG4gIFxyXG4gIHVsIHtcclxuICAgIGxpc3Qtc3R5bGU6bm9uZTtcclxuICAgIHBhZGRpbmctbGVmdDogNCU7XHJcbiAgfVxyXG4gIC5pdGVtLnNjLWlvbi1sYWJlbC1tZC1oLCAuaXRlbSAuc2MtaW9uLWxhYmVsLW1kLWh7XHJcbiAgICB3aGl0ZS1zcGFjZTogbm9ybWFsICFpbXBvcnRhbnQ7XHJcbn1cclxuICBcclxuLnJvd0Rpc3BsYXkge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcclxufSIsImZpZWxkc2V0IHtcbiAgcGFkZGluZy1sZWZ0OiAyJTtcbiAgcGFkZGluZy1yaWdodDogMiU7XG4gIGJvcmRlcjogMXB4ICMyRTcxMTcgc29saWQ7XG4gIGJvcmRlci1yYWRpdXM6IDFlbTtcbn1cblxubGVnZW5kIHtcbiAgd2lkdGg6IGZpdC1jb250ZW50O1xuICBmb250LXNpemU6IGxhcmdlcjtcbiAgY29sb3I6ICMyRTcxMTc7XG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgcGFkZGluZy1sZWZ0OiAxJTtcbiAgcGFkZGluZy1yaWdodDogMiU7XG59XG5cbnVsIHtcbiAgbGlzdC1zdHlsZTogbm9uZTtcbiAgcGFkZGluZy1sZWZ0OiA0JTtcbn1cblxuLml0ZW0uc2MtaW9uLWxhYmVsLW1kLWgsIC5pdGVtIC5zYy1pb24tbGFiZWwtbWQtaCB7XG4gIHdoaXRlLXNwYWNlOiBub3JtYWwgIWltcG9ydGFudDtcbn1cblxuLnJvd0Rpc3BsYXkge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xufSJdfQ== */\"","import {\n  Component,\n  OnInit,\n  NgZone,\n  ViewEncapsulation,\n  ChangeDetectorRef,\n} from \"@angular/core\";\nimport { Upcv3serviceService } from \"../api/upcv3service.service\";\nimport { GlobalService } from \"../api/global.service\";\nimport { Storage } from \"@ionic/storage\";\nimport { Router } from \"@angular/router\";\nimport { Geolocation } from \"@ionic-native/geolocation/ngx\";\nimport { UPCV3 } from \"../model/upcv3/upcv3\";\nimport * as $ from \"jquery\";\nimport { Events, LoadingController, Platform } from \"@ionic/angular\";\nimport { UPCModbus } from \"../model/upcv3/upcmodbus\";\nimport { Hotspot, HotspotNetwork } from \"@ionic-native/hotspot/ngx\";\nimport { NgMultiSelectDropDownModule } from \"ng-multiselect-dropdown\";\nimport { Network } from \"@ionic-native/network/ngx\";\nimport { ThrowStmt } from \"@angular/compiler\";\nimport { AlertController } from \"@ionic/angular\";\nimport { IDropdownSettings } from \"ng-multiselect-dropdown\";\nimport { User } from \"../model/user\";\nimport { Diagnostic } from \"@ionic-native/diagnostic/ngx\";\nimport { THIS_EXPR } from \"@angular/compiler/src/output/output_ast\";\nimport { Code } from \"../api/ApiResponse\";\n\ndeclare var WifiWizard2: any;\n\n@Component({\n  selector: \"app-interventionceinture\",\n  templateUrl: \"./interventionceinture.page.html\",\n  styleUrls: [\"./interventionceinture.page.scss\"],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class InterventionceinturePage implements OnInit {\n  //tenter un accès modbus et s'il ne réussit pas alert connectez vous à l'upc\n  //accès modbus s'il se connecte\n\n  /* Variables liées à la séquence d'écrans */\n  sequenceOfScreensOptions = {\n    installation: [\n      \"Initialisation / Echange boitier UPC\",\n      \"Etat de la connexion au réseau\",\n      \"Changement de bouteilles sur ceinture\",\n      \"Réglage des détendeurs\",\n      \"Controle débits Mini/Maxi\",\n      \"Vérification débits pièges individuels\",\n      \"Programmation diffusion CO2\",\n      \"Mesures pressions de sortie\",\n    ],\n    remiseEnRoute: [\n      \"Etat de la connexion au réseau\",\n      \"Changement de bouteilles sur ceinture\",\n      \"Réglage des détendeurs\",\n      \"Controle débits Mini/Maxi\",\n      \"Vérification débits pièges individuels\",\n      \"Programmation diffusion CO2\",\n      \"Mesures pressions de sortie\",\n    ],\n    modificationNbPieges: [\n      \"Modification du nombre de pièges\",\n      \"Réglage des détendeurs\",\n      \"Controle débits Mini/Maxi\",\n      \"Mesures pressions de sortie\",\n    ],\n    maintenance: [\n      \"Etat de la connexion au réseau\",\n      \"Controle débits Mini/Maxi\",\n    ],\n    changementBouteillesCo2: [\n      \"Réglage des détendeurs\",\n      \"Controle débits Mini/Maxi\",\n    ],\n    changementUpc: [\n      \"Initialisation/Echange boitier UPC\",\n      \"Etat de la connexion au réseau\",\n    ],\n  };\n\n  sequenceOfScreens = [];\n  sequenceOfScreensTmp = [];\n\n  /* Variables liées à l'objet de l'intervention */\n  motiveOptions = [\n    \"Installation\",\n    \"Modification du nombre de pièges\",\n    \"Remise en route\",\n    \"Maintenance\",\n    \"Changements de bouteilles CO2\",\n    \"Changement d'UPC\",\n    \"Hivernage\",\n    \"Autre\",\n  ];\n  motive = []; //format pour la base de données\n  selectedMotive = []; //format pour la liste\n  otherObj;\n\n  /* Variables liées aux intervenants */\n  intervenants = []; //liste de tous les intervenants\n  intervenantsChoisis = []; //format pour la base de données\n  selectedIntervenants = []; //format pour la liste\n\n  /* Variables liées aux ceintures */\n  nearUPC = [];\n  nearUPCToSort = [];\n  nearUPCNotSorted = [];\n  nearUPCNames = [];\n  nearUPCList = [];\n  ceintureChoisieObject;\n  ceintureChoisieBottles = [];\n  ceintureChoisieBottlesTypes = [];\n  ceintureChoisieCommentaires = [];\n  selectedUpcSsid;\n  selectedUpcPass;\n  selectedCeintureName;\n  connectedUpcName = \"\";\n  connectedUpcSsid = \"\";\n  isCeintureSelected = false;\n  data = [];\n  useGeolocation = true;\n  lat;\n  long;\n  geolocationErrorFunction;\n\n  /* Variables liées aux bouteilles */\n  bottles;\n  bottlesInTransit = [];\n  defaultBottlesTypes = []; //pour le cas où la ceinture choisie n'a pas d'entrepôt par défaut associé\n\n  /* Variables d'affichage*/\n  display = false;\n  displayCommentaire = false;\n  disabled = false;\n  ShowFilter = false;\n  limitSelection = false;\n  dropdownSettings = {\n    // Liste objets + Liste intervenants\n    singleSelection: false,\n    idField: \"item_id\",\n    textField: \"item_text\",\n    selectAllText: \"Select All\",\n    unSelectAllText: \"UnSelect All\",\n    allowSearchFilter: true,\n  };\n\n  dropdownSettings2 = {\n    // Liste ceintures\n    singleSelection: true,\n    idField: \"item_id\",\n    textField: \"item_text\",\n    allowSearchFilter: true,\n  };\n  needToLoadData; // Affichage symbole chargement données\n\n  /* Variables liées aux commentaires */\n  commentaires;\n\n  /* Variables liées à la récupération des données / login */\n  token;\n\n  isUpcConnected = false;\n\n  dt = new Date(Date.now());\n  dateString;\n  upc: UPCModbus;\n\n  selectedItems = [];\n  dropdownList = [];\n  connectedOperator;\n\n  poursuivre = false;\n  globals = [];\n  selectedUpcSsidTmp: string;\n  selectedUpcPassTmp: string;\n\n  success;\n  ceintureChoisieObjectTmp: any;\n  username = \"\";\n  password = \"\";\n  item: any;\n  errorFunction: string;\n  displayNoDataMessage: boolean;\n  ceintureId: any;\n  function: string;\n  mode: string;\n  nbPieges;\n  modeConnexion: string;\n  niveauConnexion: any;\n  versionFw: any;\n  modeOperation;\n  ssid;\n\n  constructor(\n    private upcv3service: Upcv3serviceService,\n    private storage: Storage,\n    private router: Router,\n    private global: GlobalService,\n    private geolocation: Geolocation,\n    private platform: Platform,\n    private loadingCTRL: LoadingController,\n    private hotspot: Hotspot,\n    private ngZone: NgZone,\n    private network: Network,\n    private cd: ChangeDetectorRef,\n    private alertController: AlertController,\n    private diagnostic: Diagnostic,\n    private events: Events\n  ) {\n    this.global.checkMode();\n  }\n\n  ngOnInit() {\n    console.log(\n      \"===================== page  : intervention sur ceinture  =============================\"\n    );\n\n    this.global.connexionRequise = \"Serveur\";\n    this.storage.get(\"token\").then((res) => {\n      this.global.token = res;\n      this.storage.get(\"dataAlreadyLoaded\").then((res) => {\n        if (res != true) {\n          this.needToLoadData = true;\n          this.function = \"getDataFromServer\";\n          this.getDataFromServer();\n        } else {\n          this.getDataFromStorage();\n        }\n      });\n    });\n\n    // recup bouteilles types\n    //recuperer les types de bouteilles de la base de données :\n    this.storage.get(\"token\").then((val) => {\n      this.token = val;\n\n      //recuperer les types de bouteilles de la base de données :\n      this.upcv3service.getAllBottleTypes(val).subscribe((res) => {\n        if (res.code === Code.BOTTLE_TYPE_RECOVERED) {\n          this.storage.set(\"bottleTypes\", res.result);\n          console.log(\"bottle types\");\n          console.log(res.result);\n        }\n      });\n    });\n\n    /*Formattage de la date pour la création de l'intervention*/\n\n    var dtstring =\n      this.dt.getFullYear() +\n      \"-\" +\n      this.pad2(this.dt.getMonth() + 1) +\n      \"-\" +\n      this.pad2(this.dt.getDate()) +\n      \"T\" +\n      this.pad2(this.dt.getHours()) +\n      \":\" +\n      this.pad2(this.dt.getMinutes()) +\n      \":\" +\n      this.pad2(this.dt.getSeconds());\n    this.dateString = dtstring;\n\n    this.storage.set(\"debutIntervention\", this.dateString);\n  }\n\n  getDataFromStorage() {\n    this.storage.get(\"intervenantsList\").then((res) => {\n      this.intervenants = res;\n      this.storage.get(\"nearUpcList\").then((res) => {\n        this.nearUPCList = res;\n        this.storage.get(\"bottlesInTransit\").then((res) => {\n          this.bottlesInTransit = res;\n          this.setInterventionVariables();\n        });\n      });\n    });\n  }\n\n  getDataFromServer() {\n    this.global.connexionRequise = \"Serveur\";\n    this.upcv3service.getConnected(this.global.token).subscribe(\n      (res) => {\n        //Opérateur connecté\n        this.global.statutConnexion = \"Serveur\";\n        this.global.retryCount = 0;\n        this.connectedOperator =\n          res.result.lastName + \" \" + res.result.firstName;\n        this.storage.set(\"connectedOperator\", this.connectedOperator);\n        this.upcv3service.getOperators(this.global.token).subscribe(\n          (res) => {\n            //Liste des intervenants\n            this.global.statutConnexion = \"Serveur\";\n            var data = res.result;\n            for (var i = 0; i < data.length; i++) {\n              this.intervenants.push(\n                data[i][\"lastName\"] + \" \" + data[i][\"firstName\"]\n              );\n            }\n            this.storage.set(\"intervenantsList\", this.intervenants);\n            this.getNearUpcList();\n          },\n          (err) => {\n            this.global.onConnect(err).then((res) => {\n              this.global.onConnectEnCours = false;\n              if (res == \"retry\") {\n                this.getDataFromServer();\n              } else {\n                this.needToLoadData = false;\n                this.displayNoDataMessage = true;\n              }\n            });\n          }\n        );\n      },\n      (err) => {\n        this.global.onConnect(err).then((res) => {\n          this.global.onConnectEnCours = false;\n          if (res == \"retry\") {\n            this.getDataFromServer();\n          } else {\n            this.needToLoadData = false;\n            this.displayNoDataMessage = true;\n          }\n        });\n      }\n    );\n  }\n\n  async getMotiveItems() {\n    var res = await this.storage.get(\"motiveItems\"); //format pour la liste\n    return res;\n  }\n\n  async getMotiveString() {\n    var res = await this.storage.get(\"motiveString\"); //format pour la base de données\n    return res;\n  }\n\n  async getIntervenantsItems() {\n    var res = await this.storage.get(\"intervenantsItems\");\n    return res;\n  }\n\n  async getIntervenantsString() {\n    var res = await this.storage.get(\"intervenantsString\");\n    return res;\n  }\n\n  async getCeintureChoisieObject() {\n    var res = await this.storage.get(\"ceintureChoisieObject\");\n    return res;\n  }\n\n  async getUpcSsid() {\n    var res = await this.storage.get(\"ssid\");\n    return res;\n  }\n\n  async getUpcPass() {\n    var res = await this.storage.get(\"password\");\n    return res;\n  }\n\n  async getUpcName() {\n    var res = await this.storage.get(\"upcname\");\n    return res;\n  }\n\n  async getStockBottleTypes() {\n    var res = await this.storage.get(\"stockBottleTypes\");\n    return res;\n  }\n\n  async getCeintureChoisieBottles() {\n    var res = await this.storage.get(\"ceintureChoisieBottles\");\n    return res;\n  }\n\n  async getCeintureChoisieCommentaires() {\n    var res = await this.storage.get(\"commentaires\");\n    return res;\n  }\n\n  async setInterventionVariables() {\n    var arr = await Promise.all([\n      this.getMotiveItems(),\n      this.getMotiveString(),\n      this.getIntervenantsItems(),\n      this.getIntervenantsString(),\n      this.getCeintureChoisieObject(),\n      this.getUpcSsid(),\n      this.getUpcPass(),\n      this.getUpcName(),\n      this.getStockBottleTypes(),\n      this.getCeintureChoisieBottles(),\n      this.getCeintureChoisieCommentaires(),\n    ]);\n\n    if (arr[0] == undefined || arr[0] == null) {\n      //motif format liste\n      this.storage.set(\"motiveItems\", \"\");\n    } else {\n      if (arr[0] != \"\") {\n        this.selectedMotive = arr[0];\n      }\n    }\n\n    if (arr[1] == undefined || arr[1] == null) {\n      //motif format bdd\n      this.storage.set(\"motiveString\", \"\");\n    } else {\n      if (arr[1] != \"\") {\n        this.motive = arr[1];\n      }\n    }\n\n    if (this.motive.includes(\"Autre\")) {\n      if (\n        this.storage.get(\"autre\") != undefined &&\n        this.storage.get(\"autre\") != null\n      ) {\n        this.motive[this.motive.indexOf(\"Autre\")] = this.storage.get(\"autre\");\n      }\n    }\n\n    if (arr[2] == undefined || arr[2] == null) {\n      //intervenants choisis format liste\n      this.storage.set(\"intervenantsItems\", \"\");\n    } else {\n      if (arr[2] != \"\") {\n        this.selectedIntervenants = arr[2];\n      }\n    }\n\n    if (arr[3] == undefined || arr[3] == null) {\n      //intervenants choisis format bdd\n      this.storage.set(\"intervenantsString\", \"\");\n    } else {\n      if (arr[3] != \"\") {\n        this.intervenantsChoisis = arr[3];\n      }\n    }\n\n    if (arr[4] == undefined || arr[4] == null) {\n      //ceinture choisie\n      this.storage.set(\"ceintureChoisieObject\", \"\");\n      this.ceintureChoisieObject = \"\";\n      this.selectedCeintureName = \"\";\n    } else {\n      if (arr[4] != \"\") {\n        this.ceintureChoisieObject = JSON.parse(arr[4]);\n        this.selectedCeintureName = this.ceintureChoisieObject.upcNameId;\n      } else {\n        this.ceintureChoisieObject = \"\";\n        this.selectedCeintureName = \"\";\n      }\n    }\n\n    if (arr[5] == undefined || arr[5] == null) {\n      //ceinture choisie ssid\n      this.storage.set(\"ssid\", \"\");\n      this.selectedUpcSsid = \"\";\n    } else {\n      this.selectedUpcSsid = arr[5];\n    }\n\n    if (arr[6] == undefined || arr[6] == null) {\n      //ceinture choisie password\n      this.storage.set(\"password\", \"\");\n      this.selectedUpcPass = \"\";\n    } else {\n      this.selectedUpcPass = arr[6];\n    }\n\n    if (arr[7] == undefined || arr[7] == null) {\n      //nom de l'upc\n      this.storage.set(\"upcname\", \"\");\n    }\n\n    if (arr[8] == undefined || arr[8] == null) {\n      //types des bouteilles de l'entrepôt associé à la ceinture\n      this.storage.set(\"stockBottleTypes\", \"\");\n    } else {\n      if (arr[8] != \"\") {\n        this.ceintureChoisieBottlesTypes = arr[8];\n      }\n    }\n\n    if (arr[9] == undefined || arr[9] == null) {\n      //bouteilles de l'entrepôt associé à la ceinture\n      this.storage.set(\"ceintureChoisieBottles\", \"\");\n    } else {\n      if (arr[9] != \"\") {\n        this.ceintureChoisieBottles = arr[9];\n      }\n    }\n\n    if (arr[10] == undefined || arr[10] == null) {\n      //commentaires associé à la ceinture\n      this.storage.set(\"commentaires\", \"\");\n    } else {\n      if (arr[10] != \"\") {\n        this.commentaires = arr[10];\n        this.displayCommentaire = true;\n      }\n    }\n\n    if (this.ceintureChoisieObject != \"\") {\n      var d = new Date();\n      this.global.logs.push(\n        this.global.msToTime(d.getTime()) + \" --- Présélection ceinture ---\"\n      );\n      this.nearUPCList.forEach((element) => {\n        //compare les id pour présélectionner la ceinture\n        if (this.ceintureChoisieObject.id == element.item_id.id) {\n          this.selectedItems = [element];\n          this.isCeintureSelected = true;\n        }\n      });\n    } else {\n      this.selectedItems = [];\n    }\n    this.display = true;\n    this.needToLoadData = false;\n    this.storage.set(\"dataAlreadyLoaded\", true);\n  }\n\n  /*fonction formattage date*/\n\n  pad2(number) {\n    return (number < 10 ? \"0\" : \"\") + number;\n  }\n\n  getCommentaires(item) {\n    this.item = item;\n    if (item != undefined && item != null) {\n      this.upcv3service\n        .getActionNotDoneById(this.global.token, item.item_id.id)\n        .subscribe(\n          (res) => {\n            this.global.retryCount = 0;\n            if (res.result[0] != undefined) {\n              if (res.result[0].mess != null) {\n                this.displayCommentaire = true;\n                this.commentaires = [];\n                res.result.forEach((element) => {\n                  this.commentaires.push(element.mess);\n                });\n                this.storage.set(\"commentaires\", this.commentaires);\n              }\n            }\n            this.getBottlesInfos();\n          },\n          async (err) => {\n            this.global.onConnect(err).then((res) => {\n              this.global.onConnectEnCours = false;\n              if (res == \"retry\") {\n                this.getCommentaires(item);\n              } else {\n                this.needToLoadData = false;\n                this.displayNoDataMessage = true;\n              }\n            });\n          }\n        );\n    } else {\n      this.getBottlesInfos();\n    }\n  }\n\n  getBottlesInfos() {\n    /*Récupération des informations sur les bouteilles dans la base de données*/\n\n    if (\n      this.ceintureChoisieObject != undefined &&\n      this.ceintureChoisieObject != null &&\n      this.ceintureChoisieObject != \"\"\n    ) {\n      this.upcv3service\n        .getSitesByUpcID(this.ceintureChoisieObject.id, this.global.token)\n        .subscribe(\n          (res) => {\n            this.global.retryCount = 0;\n            //alert(\"site : \"+JSON.stringify(res))\n            if (res.result.stock != null) {\n              //s'il y a un entrepôt par défaut associé à la ceinture\n              this.ceintureChoisieBottlesTypes = res.result.stock.bottleTypes; //liste des types de bouteilles de l'entreôt associé à la ceinture\n              this.storage.set(\n                \"stockBottleTypes\",\n                this.ceintureChoisieBottlesTypes\n              );\n              this.storage.set(\n                \"stockBottleTypesModeTest\",\n                this.ceintureChoisieBottlesTypes\n              );\n              this.upcv3service\n                .getBottlesByStockId(res.result.stock.id, this.global.token)\n                .subscribe(\n                  (res) => {\n                    res.result.forEach((element) => {\n                      this.ceintureChoisieBottles.push(element); //liste des bouteilles de l'entrepôt associé à la ceinture\n                    });\n                    this.storage.set(\n                      \"ceintureChoisieBottles\",\n                      this.ceintureChoisieBottles\n                    );\n                    this.global.connexionRequise = \"Aucune\";\n                  },\n                  (err) => {\n                    this.global.onConnect(err).then((res) => {\n                      this.global.onConnectEnCours = false;\n                      if (res == \"retry\") {\n                        this.getBottlesInfos();\n                      } else {\n                        this.needToLoadData = false;\n                        this.displayNoDataMessage = true;\n                        this.global.connexionRequise = \"Aucune\";\n                      }\n                    });\n                  }\n                );\n            } else {\n              this.upcv3service\n                .getAllBottleTypes(this.global.token)\n                .subscribe((res) => {\n                  res.result.forEach((element) => {\n                    this.defaultBottlesTypes.push(element);\n                  });\n                  this.storage.set(\n                    \"stockBottleTypes\",\n                    this.defaultBottlesTypes\n                  );\n                  this.global.connexionRequise = \"Aucune\";\n                });\n            }\n          },\n          (err) => {\n            this.global.onConnect(err).then((res) => {\n              this.global.onConnectEnCours = false;\n              if (res == \"retry\") {\n                this.getBottlesInfos();\n              } else {\n                this.needToLoadData = false;\n                this.displayNoDataMessage = true;\n                this.global.connexionRequise = \"Aucune\";\n              }\n            });\n          }\n        );\n    }\n  }\n\n  /*Liste des ceintures*/\n\n  getNearUpcList() {\n    this.upcv3service.getUPC3(this.global.token).subscribe(\n      (res) => {\n        this.global.retryCount = 0;\n        this.storage.set(\"statutConnexion\", \"Serveur\").then(() => {\n          var data = res.result; //liste de toutes les ceintures\n          this.data = data;\n          this.checkLocationEnabled(data);\n        });\n      },\n      (err) => {\n        this.global.onConnect(err).then((res) => {\n          this.global.onConnectEnCours = false;\n          if (res == \"retry\") {\n            this.getDataFromServer();\n          } else {\n            this.needToLoadData = false;\n            this.displayNoDataMessage = true;\n          }\n        });\n      }\n    );\n  }\n\n  checkLocationEnabled(data) {\n    this.diagnostic\n      .isLocationEnabled()\n      .then((res) => {\n        if (res == true) {\n          this.successGeolocation(data);\n        } else {\n          this.geolocationErrorFunction = \"check\";\n          alert(\n            \"La page a besoin de la position de l'appareil. Activez la géolocalisation puis appuyez sur 'OK'.\"\n          );\n          this.checkLocationEnabled(this.data);\n        }\n      })\n      .catch((error) => {\n        this.successGeolocation(data);\n      });\n  }\n\n  successGeolocation(data) {\n    this.geolocation\n      .getCurrentPosition()\n      .then((res) => {\n        this.lat = res.coords.latitude;\n        this.long = res.coords.longitude;\n        this.makeUpcList();\n      })\n      .catch((err) => {\n        this.geolocationAlert();\n      });\n  }\n\n  makeUpcList() {\n    this.data.forEach((element) => {\n      this.nearUPCNotSorted.push(element); //Liste des ceintures qu'on gardera volontairement non triée\n      this.nearUPCToSort.push(element); //Liste des ceintures qu'on va trier\n    });\n\n    if (this.useGeolocation == true) {\n      this.nearUPCToSort.sort((a, b) => {\n        //Tri croissant des ceintures en fonction de la distance où elles se trouvent par rapport à la position du téléphone\n        return (\n          this.getDistanceFromLatLonInKm(this.lat, this.long, a.lat, a.lng) -\n          this.getDistanceFromLatLonInKm(this.lat, this.long, b.lat, b.lng)\n        );\n      });\n\n      //crée la liste avec les 10 ceintures les plus proches\n      for (var i = 0; i < 10; i++) {\n        this.nearUPC.push(this.nearUPCToSort[i]);\n        this.nearUPCNames.push(this.nearUPC[i].upcNameId);\n      }\n    }\n    //ajoute toutes les ceintures sans ordre de distance\n    this.nearUPCNotSorted.forEach((element) => {\n      this.nearUPC.push(element);\n      this.nearUPCNames.push(element.upcNameId);\n    });\n\n    this.nearUPC.forEach((element) => {\n      //crée une liste d'items ceinture {item_id:{json de la ceinture},item_text:\"nom de la ceinture\"}\n      this.nearUPCList.push({ item_id: element, item_text: element.upcNameId });\n    });\n    this.storage.set(\"nearUpcList\", this.nearUPCList);\n    this.getBottlesInTransitList();\n  }\n\n  getBottlesInTransitList() {\n    this.upcv3service.getAllBottle(this.global.token).subscribe(\n      (res) => {\n        //liste de toutes les bouteilles\n        this.global.retryCount = 0;\n        this.bottles = res;\n        var bottlesInTransitTmp = [];\n        this.bottles.result.forEach((element) => {\n          if (element.localisationType == \"TRANSIT\") {\n            bottlesInTransitTmp.push(element); //liste des bouteilles en transit\n          }\n        });\n        this.bottlesInTransit = bottlesInTransitTmp;\n        var desigTmp;\n        var contenuTmp;\n\n        bottlesInTransitTmp.forEach((element, index) => {\n          desigTmp = element.designation;\n          contenuTmp = element.contenue;\n          this.bottlesInTransit[index].designation = contenuTmp;\n          this.bottlesInTransit[index].contenue = desigTmp;\n        });\n        this.storage.set(\"bottlesInTransit\", this.bottlesInTransit);\n        this.setInterventionVariables();\n      },\n      (err) => {\n        this.global.onConnect(err).then((res) => {\n          this.global.onConnectEnCours = false;\n          if (res == \"retry\") {\n            this.getBottlesInTransitList();\n          } else {\n            this.needToLoadData = false;\n            this.displayNoDataMessage = true;\n          }\n        });\n      }\n    );\n  }\n\n  /* --- fonctions liées à l'objet de l'intervention --- */\n\n  other() {\n    //choix d'un objet \"autre\" qui n'est pas dans la liste\n    this.display = false;\n    this.motive[this.motive.indexOf(\"Autre\")] = this.otherObj;\n    this.storage.set(\"autre\", this.otherObj);\n    setTimeout(() => {\n      this.display = true;\n    }, 20);\n  }\n\n  onSelectMotive(item: any) {\n    console.log(JSON.stringify(item));\n    if (!this.motive.includes(item)) {\n      this.motive.push(item);\n    }\n    this.storage.set(\"motiveItems\", this.selectedMotive); //format pour la liste\n    this.storage.set(\"motiveString\", this.motive); //format pour la base de données\n  }\n\n  onRemoveMotive(item: any) {\n    this.motive = this.motive.filter(function (element) {\n      return element !== item;\n    });\n    this.storage.set(\"motiveItems\", this.selectedMotive); //format pour la liste\n    this.storage.set(\"motiveString\", this.motive); //format pour la base de données\n  }\n\n  /* --- fonctions liées aux intervenants --- */\n\n  onSelectIntervenant(item: any) {\n    console.log(JSON.stringify(item));\n    if (!this.intervenantsChoisis.includes(item)) {\n      this.intervenantsChoisis.push(item);\n    }\n    this.storage.set(\"intervenantsItems\", this.selectedIntervenants);\n    this.storage.set(\"intervenantsString\", this.intervenantsChoisis);\n  }\n\n  onRemoveIntervenant(item: any) {\n    this.intervenantsChoisis = this.intervenantsChoisis.filter(function (\n      element\n    ) {\n      return element !== item;\n    });\n    this.storage.set(\"intervenantsItems\", this.selectedIntervenants);\n    this.storage.set(\"intervenantsString\", this.intervenantsChoisis);\n  }\n\n  /* --- fonctions liées à la ceinture --- */\n\n  deg2rad(deg) {\n    return deg * (Math.PI / 180);\n  }\n\n  //fonction calcul de distance\n  getDistanceFromLatLonInKm(lat1, lon1, lat2, lon2) {\n    var R = 6371; // Radius of the earth in km\n    var dLat = this.deg2rad(lat2 - lat1); // deg2rad below\n    var dLon = this.deg2rad(lon2 - lon1);\n    var a =\n      Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n      Math.cos(this.deg2rad(lat1)) *\n        Math.cos(this.deg2rad(lat2)) *\n        Math.sin(dLon / 2) *\n        Math.sin(dLon / 2);\n    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    var d = R * c; // Distance in km\n    return d;\n  }\n\n  async onSelectedCeinture(item: any) {\n    //var res = await this.global.upcmodbus.client.disconnect()\n    //WifiWizard2.disconnect()\n    await this.storage.set(\"isCeintureSelected\", true);\n\n    this.item = item;\n\n    if (this.isCeintureSelected == true) {\n      this.ceintureChoisieObjectTmp = item.item_id;\n      this.selectedUpcSsidTmp =\n        item.item_id.communicationParameters.comWiFiName;\n      this.selectedUpcPassTmp =\n        item.item_id.communicationParameters.comWiFiPass;\n      this.changementCeintureAlert();\n    } else {\n      await this.storage.set(\n        \"ceintureChoisieObject\",\n        JSON.stringify(item.item_id)\n      );\n      this.ceintureChoisieObject = item.item_id;\n      this.isCeintureSelected = true;\n      this.ceintureId = item.item_id.id;\n\n      this.selectedCeintureName = item.item_text;\n      this.selectedUpcSsid = item.item_id.communicationParameters.comWiFiName;\n      this.selectedUpcPass = item.item_id.communicationParameters.comWiFiPass;\n\n      await this.storage.set(\"ssid\", this.selectedUpcSsid);\n      await this.storage.set(\"ssid_upc\", this.selectedUpcSsid);\n\n      //debug\n      console.log(\"ssid:\" + this.selectedUpcSsid);\n      await this.storage.set(\"password\", this.selectedUpcPass);\n      //debug\n      console.log(\"password:\" + this.selectedUpcPass);\n\n      await this.storage.set(\"ceintureId\", this.ceintureId);\n      //\n      await this.storage.set(\"upcname\", this.ceintureChoisieObject.upcNameId);\n      console.log(\"upc name ::\" + this.ceintureChoisieObject.upcNameId);\n\n      /*Récupération commentaires \"à faire\" dans la base de données*/\n      this.getCommentaires(item);\n    }\n  }\n\n  onRemoveCeinture(item: any) {\n    this.isCeintureSelected = false;\n    this.storage.set(\"ceintureChoisieObject\", \"\");\n  }\n\n  /*Changement de ceinture dans le cas d'une intervention en cours*/\n  changementCeintureAlert() {\n    return new Promise<void>(async (resolve, reject) => {\n      this.alertController\n        .create({\n          header: \"Attention\",\n          subHeader: \"Intervention en cours\",\n          message:\n            \"Une intervention est en cours sur la ceinture \" +\n            this.selectedCeintureName +\n            \". Les données ne seront pas enregistrées, souhaitez-vous continuer ?\",\n          buttons: [\n            {\n              text: \"Annuler\",\n              role: \"cancel\",\n              handler: () => {\n                this.selectedUpcSsidTmp = \"\";\n                this.selectedUpcPassTmp = \"\";\n                this.nearUPCList.forEach((element) => {\n                  //compare les id pour présélectionner la ceinture\n                  if (this.ceintureChoisieObject.id == element.item_id.id) {\n                    this.selectedItems = [element];\n                  }\n                });\n                this.displayCommentaire = false;\n                this.isCeintureSelected = false;\n                this.selectedItems = [];\n                resolve();\n              },\n            },\n            {\n              text: \"Continuer\",\n              handler: () => {\n                this.selectedUpcSsid = this.selectedUpcSsidTmp;\n                this.selectedUpcPass = this.selectedUpcPassTmp;\n                this.ceintureChoisieObject = this.ceintureChoisieObjectTmp;\n                this.storage.set(\n                  \"ceintureChoisieObject\",\n                  JSON.stringify(this.ceintureChoisieObject)\n                );\n                this.selectedCeintureName =\n                  this.ceintureChoisieObject.upcNameId;\n                this.display = false;\n                this.display = true;\n                /*WifiWizard2.disconnect().then(\n              this.connectToUpc()\n            );   */\n                resolve();\n              },\n            },\n          ],\n        })\n        .then((res) => res.present());\n    });\n  }\n\n  geolocationAlert() {\n    return new Promise<void>(async (resolve, reject) => {\n      this.alertController\n        .create({\n          header: \"Attention\",\n          subHeader: \"Géolocalisation requise\",\n          message:\n            \"La page a besoin de la position de l'appareil. Activez la géolocalisation puis appuyez sur 'OK'.\",\n          buttons: [\n            {\n              text: \"Poursuivre sans géolocalisation\",\n              role: \"cancel\",\n              handler: () => {\n                this.useGeolocation = false;\n                this.makeUpcList();\n                resolve();\n              },\n            },\n            {\n              text: \"OK\",\n              handler: () => {\n                switch (this.geolocationErrorFunction) {\n                  case \"check\":\n                    this.checkLocationEnabled(this.data);\n                    break;\n                  case \"pos\":\n                    this.successGeolocation(this.data);\n                    break;\n                }\n\n                resolve();\n              },\n            },\n          ],\n        })\n        .then((res) => res.present());\n    });\n  }\n\n  async createSequence() {\n    var notSortedSequenceOfScreensTmp = [];\n\n    this.motive.forEach((element) => {\n      //récupère tous les écrans pour tous les motifs d'intervention choisis\n      switch (element) {\n        case \"Installation\":\n          this.sequenceOfScreensOptions.installation.forEach((element) => {\n            notSortedSequenceOfScreensTmp.push(element);\n          });\n          break;\n        case \"Modification du nombre de pièges\":\n          this.sequenceOfScreensOptions.modificationNbPieges.forEach(\n            (element) => {\n              notSortedSequenceOfScreensTmp.push(element);\n            }\n          );\n          break;\n        case \"Remise en route\":\n          this.sequenceOfScreensOptions.remiseEnRoute.forEach((element) => {\n            notSortedSequenceOfScreensTmp.push(element);\n          });\n          break;\n        case \"Maintenance\":\n          this.sequenceOfScreensOptions.maintenance.forEach((element) => {\n            notSortedSequenceOfScreensTmp.push(element);\n          });\n          break;\n        case \"Changements de bouteilles CO2\":\n          this.sequenceOfScreensOptions.changementBouteillesCo2.forEach(\n            (element) => {\n              notSortedSequenceOfScreensTmp.push(element);\n            }\n          );\n          break;\n        case \"Changement d'UPC\":\n          this.sequenceOfScreensOptions.changementUpc.forEach((element) => {\n            notSortedSequenceOfScreensTmp.push(element);\n          });\n          break;\n        case \"Hivernage\":\n          break;\n        default:\n          break;\n      }\n    });\n\n    const tmp = notSortedSequenceOfScreensTmp.reduce((acc, element) => {\n      return acc.add(element);\n    }, new Set());\n    this.sequenceOfScreensTmp = [...tmp];\n\n    this.sequenceOfScreensTmp.push(\n      \"Commentaires\",\n      \"Rapport de visite\",\n      \"Fin d'intervention\"\n    );\n    this.sequenceOfScreensTmp.unshift(\"Paramètres généraux\");\n\n    var sequenceTmp = [];\n\n    this.sequenceOfScreensTmp.forEach((element) => {\n      var page;\n      switch (element) {\n        case \"Paramètres généraux\":\n          page = \"namepiege\";\n          break;\n        case \"Initialisation / Echange boitier UPC\":\n          page = \"initechangeboitierupc\";\n          break;\n        case \"Etat de la connexion au réseau\":\n          page = \"connection\";\n          break;\n        case \"Changement de bouteilles sur ceinture\":\n          page = \"addbottleceint\";\n          break;\n        case \"Réglage des détendeurs\":\n          page = \"adjustment\";\n          break;\n        case \"Controle débits Mini/Maxi\":\n          page = \"controldiff\";\n          break;\n        case \"Vérification débits pièges individuels\":\n          page = \"verifpiegesindividuels\";\n          break;\n        case \"Programmation diffusion CO2\":\n          page = \"synchro\";\n          break;\n        case \"Mesures pressions de sortie\":\n          page = \"check\";\n          break;\n        case \"Modification du nombre de pièges\":\n          page = \"modifnbpieges\";\n          break;\n        case \"Commentaires\":\n          page = \"commentaires\";\n          break;\n        case \"Rapport de visite\":\n          page = \"rapportvisite\";\n          break;\n        case \"Fin d'intervention\":\n          page = \"finintervention\";\n          break;\n      }\n      sequenceTmp.push([element, false, page]);\n    });\n\n    this.storage.get(\"sequence\").then((res) => {\n      var sequence;\n      if (res == undefined || res == \"\") {\n        sequence = sequenceTmp;\n      } else {\n        if (res != null) {\n          sequenceTmp.forEach((elementTmp) => {\n            res.forEach((elementRes) => {\n              if (elementRes[2] == elementTmp[2]) {\n                if (elementRes[1] != elementTmp[1]) {\n                  elementTmp[1] = elementRes[1];\n                }\n              }\n            });\n          });\n          sequence = sequenceTmp;\n        }\n      }\n      this.storage.set(\"sequence\", sequence).then(() => {\n        this.router.navigate([sequence[0][2]]);\n      });\n    });\n  }\n\n  /*Commence la séquence et/ou redirige vers la première page de la séquence suivante*/\n  goNext() {\n    if (\n      this.motive == [] ||\n      this.intervenants == [] ||\n      this.ceintureChoisieObject == \"\"\n    ) {\n      alert(\"Vous devez remplir tous les champs pour continuer.\");\n    } else {\n      this.createSequence();\n    }\n  }\n\n  reload() {\n    document.location.reload();\n  }\n}\n"],"sourceRoot":""}